choices:
  open_box:
    text: "Открыть шкатулку"
    description: "Ты вставил в замочную щель шкатулки ржавый ключ.  Попытался провернуть его, но ключ тут де заклинило. Ты нажал посильнее, замок поддался, но щелк! и у тебя в руке остался ржавый огрызок ключа. Ты отбросил его и занялся содержимыш шкатулки. Что тут у нас? Золотое кольцо! Так, это мы забираем!"
    conditions:
      - type: has_item
        item: rusty_key
      - type: container_locked
        container: wooden_box
    effects:
      - type: consume_item
        item: rusty_key
      - type: unlock_container
        container: wooden_box
      - type: reveal_contents
        container: wooden_box

  go_down_to_hall:
    text: "Спуститься вниз"
    description: "Ты спустился в прихожую."
    conditions:
      - type: in_location
        location: attic
    effects:
      - type: move_to
        location: hall

  go_up_to_attic:
    text: "Подняться на чердак"
    description: "Ты поднялся по деревянной лестнице на чердак."
    conditions:
      - type: in_location
        location: hall
    effects:
      - type: move_to
        location: attic