choices:
  open_box:
    text: "Открыть шкатулку"
    #result_text   : "Ты вставил в замочную щель шкатулки ржавый ключ.  Попытался провернуть его, но ключ тут де заклинило. Ты нажал посильнее, замок поддался, но щелк! и у тебя в руке остался ржавый огрызок ключа. Ты отбросил его и занялся содержимыш шкатулки. Что тут у нас? Золотое кольцо! Так, это мы забираем!"
    conditions:
      - type: has_item
        item: rusty_key
      - type: container_locked
        container: wooden_box
      - type: in_location
        location: attic
    effects:
      - type: consume_item
        item: rusty_key
      - type: unlock_container
        container: wooden_box
      - type: reveal_contents
        container: wooden_box
    result_renderer:
      - type: open_container
        params:
          container: wooden_box
          item: rusty_key

  open_pink_box:
    text: "Открыть розовую шкатулку"
    result_text: "Ты вставляешь в шкатулку розовый ключ, ее на мгновение озаряет розовое пламя, и она открывается. Ты обнаруживаешь на дне шкатулки крурную иголку и забираешь ее."
    conditions:
      - type: has_item
        item: pink_key
      - type: container_locked
        container: pink_box
      - type: in_location
        location: attic
    effects:
      - type: consume_item
        item: pink_key
      - type: unlock_container
        container: pink_box
      - type: reveal_contents
        container: pink_box

  go_down_to_hall:
    text: "Спуститься вниз"
    result_text: "Ты спустился в прихожую."
    conditions:
      - type: in_location
        location: attic
    effects:
      - type: move_to
        location: hall

  go_up_to_attic:
    text: "Подняться на чердак"
    result_text: "Ты поднялся по деревянной лестнице на чердак."
    conditions:
      - type: in_location
        location: hall
    effects:
      - type: move_to
        location: attic

  go_to_closet:
    text: "Зайти в кладовку"
    result_text: "Ты  вошел в кладовку."
    conditions:
      - type: in_location
        location: hall
    effects:
      - type: move_to
        location: closet

  go_out_from_closet:
    text: "Выйти из кладовки"
    result_text: "Ты  вернулся в прихожую."
    conditions:
      - type: in_location
        location: closet
    effects:
      - type: move_to
        location: hall
